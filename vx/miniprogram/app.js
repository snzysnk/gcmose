"use strict";
let resolveUserInfo;
App({
    globalData: {
        userInfo: new Promise((resolve) => {
            resolveUserInfo = resolve;
        })
    },
    onLaunch() {
        wx.login({
            success: res => {
                wx.request({
                    url: 'http://localhost:9002/v1/auth/login',
                    method: 'POST',
                    data: { code: res.code },
                    timeout: 6000,
                    success: (response) => {
                        let data = response.data;
                        console.log(data.Token);
                    },
                    fail: console.log
                });
            },
        });
    },
    parseUserInfo(e) {
        resolveUserInfo(e);
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFFQSxJQUFJLGVBQW9CLENBQUM7QUFFekIsR0FBRyxDQUFhO0lBQ1osVUFBVSxFQUFFO1FBQ1IsUUFBUSxFQUFFLElBQUksT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDOUIsZUFBZSxHQUFHLE9BQU8sQ0FBQztRQUM5QixDQUFDLENBQUM7S0FDTDtJQUNELFFBQVE7UUFhSixFQUFFLENBQUMsS0FBSyxDQUFDO1lBQ0wsT0FBTyxFQUFFLEdBQUcsQ0FBQyxFQUFFO2dCQUNYLEVBQUUsQ0FBQyxPQUFPLENBQUM7b0JBQ1AsR0FBRyxFQUFFLHFDQUFxQztvQkFDMUMsTUFBTSxFQUFFLE1BQU07b0JBQ2QsSUFBSSxFQUFFLEVBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJLEVBQUM7b0JBQ3RCLE9BQU8sRUFBRSxJQUFJO29CQUNiLE9BQU8sRUFBRSxDQUFDLFFBQVEsRUFBRSxFQUFFO3dCQUNsQixJQUFJLElBQUksR0FBRyxRQUFRLENBQUMsSUFBVyxDQUFDO3dCQUNoQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDNUIsQ0FBQztvQkFDRCxJQUFJLEVBQUUsT0FBTyxDQUFDLEdBQUc7aUJBQ3BCLENBQUMsQ0FBQztZQUNQLENBQUM7U0FDSixDQUFDLENBQUE7SUFDTixDQUFDO0lBQ0QsYUFBYSxDQUFDLENBQTZCO1FBQ3ZDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtJQUN0QixDQUFDO0NBQ0osQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwLnRzXG5cbmxldCByZXNvbHZlVXNlckluZm86IGFueTtcblxuQXBwPElBcHBPcHRpb24+KHtcbiAgICBnbG9iYWxEYXRhOiB7XG4gICAgICAgIHVzZXJJbmZvOiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZVVzZXJJbmZvID0gcmVzb2x2ZTtcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIG9uTGF1bmNoKCkge1xuICAgICAgICAvLyDlsZXnpLrmnKzlnLDlrZjlgqjog73liptcbiAgICAgICAgLy8gY29uc3QgbG9ncyA9IHd4LmdldFN0b3JhZ2VTeW5jKCdsb2dzJykgfHwgW11cbiAgICAgICAgLy8gbG9ncy51bnNoaWZ0KERhdGUubm93KCkpXG4gICAgICAgIC8vXG4gICAgICAgIC8vIC8vIGNvbnN0IHVzZXJJbmZvID0gd3guZ2V0U3RvcmFnZVN5bmMoJ3VzZXJJbmZvJykgfHwgZmFsc2VcbiAgICAgICAgLy9cbiAgICAgICAgLy8gLy8gaWYgKHVzZXJJbmZvKSB7XG4gICAgICAgIC8vIC8vICAgICBjb25zb2xlLmxvZyhnZXRBcHAoKS5nbG9iYWxEYXRhLnVzZXJJbmZvKTtcbiAgICAgICAgLy8gLy8gfVxuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvLyAvLyDnmbvlvZVcbiAgICAgICAgd3gubG9naW4oe1xuICAgICAgICAgICAgc3VjY2VzczogcmVzID0+IHtcbiAgICAgICAgICAgICAgICB3eC5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDo5MDAyL3YxL2F1dGgvbG9naW4nLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge2NvZGU6IHJlcy5jb2RlfSxcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogNjAwMCxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHJlc3BvbnNlLmRhdGEgYXMgYW55O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5Ub2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZhaWw6IGNvbnNvbGUubG9nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgIH0sXG4gICAgcGFyc2VVc2VySW5mbyhlOiBXZWNoYXRNaW5pcHJvZ3JhbS5Vc2VySW5mbykge1xuICAgICAgICByZXNvbHZlVXNlckluZm8oZSlcbiAgICB9XG59KSJdfQ==